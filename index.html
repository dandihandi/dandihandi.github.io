<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bogacka Heels | Home</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-database-compat.js"></script>
    <style>
        :root { --accent: #d4af37; --bg: #0a0a0a; --card-bg: #161616; --text-main: #ffffff; --text-dim: #b0b0b0; }
        html, body { height: 100%; margin: 0; padding: 0; background-color: var(--bg); color: var(--text-main); font-family: 'Montserrat', sans-serif; overflow: hidden; }
        body { display: flex; flex-direction: column; }
        .hero { height: 25vh; display: flex; flex-direction: column; justify-content: center; align-items: center; background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://images.unsplash.com/photo-1508700115892-45ecd05ae2ad?auto=format&fit=crop&w=1200&q=80'); background-size: cover; background-position: center; border-bottom: 3px solid var(--accent); flex-shrink: 0; }
        h1 { font-family: 'Playfair Display', serif; font-size: clamp(2rem, 8vh, 4rem); color: var(--accent); margin: 0; letter-spacing: 10px; text-transform: uppercase; }
        .main-content { flex-grow: 1; display: flex; align-items: stretch; justify-content: center; padding: 15px; }
        .card { background: var(--card-bg); padding: 2vh 40px; border-radius: 30px; border: 1px solid rgba(212, 175, 55, 0.3); width: 100%; max-width: 600px; display: flex; flex-direction: column; justify-content: space-between; }
        .countdown { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin: 1vh 0; }
        .timer-box { background: rgba(255,255,255,0.05); padding: 1.5vh 5px; border-radius: 15px; border: 1px solid rgba(212, 175, 55, 0.2); }
        .timer-box span { font-size: clamp(1.5rem, 6vh, 3rem); font-weight: 700; color: var(--accent); display: block; line-height: 1; }
        .timer-box label { font-size: clamp(0.5rem, 1.5vh, 0.8rem); text-transform: uppercase; color: var(--text-dim); }
        .info-grid { text-align: center; border-top: 1px solid #333; padding-top: 1.5vh; }
        .btn-maps { display: inline-block; color: var(--accent); text-decoration: none; border: 1px solid var(--accent); padding: 0.8vh 20px; border-radius: 40px; margin-top: 0.5vh; font-size: clamp(0.7rem, 2vh, 0.9rem); font-weight: 600; }
        .btn-main { display: block; padding: 2.5vh 20px; background: var(--accent); color: black; font-weight: 800; text-transform: uppercase; text-decoration: none; border-radius: 15px; font-size: clamp(1rem, 3.5vh, 1.6rem); letter-spacing: 2px; }
    </style>
</head>
<body>
    <div class="hero"><h1>Bogacka Heels</h1></div>
    <div class="main-content">
        <div class="card">
            <div class="event-header">
                <h2 id="mainTitle">...</h2>
                <p style="text-transform:uppercase; font-weight:600">WARSZTATY STARTUJƒÑ ZA:</p>
                <p id="mainDate">(...)</p>
            </div>
            <div class="countdown">
                <div class="timer-box"><span id="days">00</span><label>Dni</label></div>
                <div class="timer-box"><span id="hours">00</span><label>Godz</label></div>
                <div class="timer-box"><span id="mins">00</span><label>Min</label></div>
                <div class="timer-box"><span id="secs">00</span><label>Sek</label></div>
            </div>
            <div class="info-grid">
                <p><strong>Cena:</strong> <span id="mainPrice">...</span></p>
                <p><strong>Lokalizacja:</strong> <span id="mainLoc">...</span></p>
                <a href="#" id="mainMap" target="_blank" class="btn-maps">üìç Zobacz na mapie</a>
            </div>
            <a href="register.html" class="btn-main">Zapisz siƒô teraz</a>
        </div>
    </div>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDssqjSqhRHJ2_BhzqgspuX_-q2KP2ydqs",
            authDomain: "bogacka-heels.firebaseapp.com",
            databaseURL: "https://bogacka-heels-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "bogacka-heels",
            storageBucket: "bogacka-heels.firebasestorage.app",
            messagingSenderId: "825219158791",
            appId: "1:825219158791:web:38acf635db61854739eba2"
        };
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        let targetTime = 0;
        database.ref('settings').on('value', snapshot => {
            const s = snapshot.val();
            if(s) {
                document.getElementById('mainTitle').innerText = s.title;
                document.getElementById('mainDate').innerText = `(${s.dateDisplay})`;
                document.getElementById('mainPrice').innerText = s.price + ' PLN';
                document.getElementById('mainLoc').innerText = s.location;
                document.getElementById('mainMap').href = s.mapUrl;
                targetTime = new Date(s.targetDate).getTime();
            }
        });

        setInterval(() => {
            const now = new Date().getTime();
            const diff = targetTime - now;
            if (diff > 0) {
                document.getElementById('days').innerText = Math.floor(diff / (1000*60*60*24)).toString().padStart(2, '0');
                document.getElementById('hours').innerText = Math.floor((diff % (1000*60*60*24)) / (1000*60*60)).toString().padStart(2, '0');
                document.getElementById('mins').innerText = Math.floor((diff % (1000*60*60)) / (1000*60)).toString().padStart(2, '0');
                document.getElementById('secs').innerText = Math.floor((diff % (1000*60)) / 1000).toString().padStart(2, '0');
            }
        }, 1000);
    </script>
</body>
</html>